{"version":3,"sources":["types/navigation.ts","constants/POSSIBLE_CATEGORIES.ts","store/action-creators/navigation.ts","types/goods.ts","store/API/index.ts","types/filters.ts","store/action-creators/goods.ts","store/action-creators/filters.ts","types/statistics.ts","store/action-creators/statistics.ts","store/action-creators/index.ts","hooks/useActions.ts","hooks/useTypedSelector.ts","components/NumberInput/NumberInput.tsx","components/Switch/Switch.tsx","components/Toggler/Toggler.tsx","components/Filters/Filters.tsx","components/Goods/Goods.tsx","components/AnotherOffers/AnotherOffers.tsx","constants/linguistics.ts","components/Navigation/Navigation.tsx","components/RadarPreloader/RadarPreloader.tsx","components/Central/Central.tsx","components/MainScreen/MainScreen.tsx","components/Chart/Chart.tsx","components/Statistics/Statistics.tsx","components/Footer/Footer.tsx","App.tsx","store/reducers/goodsReducers.ts","store/reducers/navigationReducer.ts","constants/localStorage.ts","store/API/localStorage.ts","store/reducers/filtersReducer.ts","constants/POSSIBLE_SHOPS.ts","store/reducers/statisticsReducer.ts","store/reducers/index.ts","store/index.ts","index.tsx"],"names":["NavigationActionsTypes","POSSIBLE_CATEGORIES","GoodsActionsTypes","updateCategory","newCategory","type","UPDATE_CATEGORY","payload","FiltersActionsTypes","BASE_URL","getCheaper","category","a","fetch","response","json","raw","data","isLoading","isError","href","link","price","Math","round","pricePerKg","NaN","getGoods","minPrice","maxPrice","restrictedShops","sortOrder","params","URLSearchParams","append","join","url","toString","map","rawGood","id","_id","title","pictureLink","shopName","weight","getChartData","item","date","Date","slice","reverse","console","log","fetchCheaper","dispatch","FETCH_CHEAPER","dataFromServer","UPDATE_CHEAPER","error","UPDATE_IS_CHEAPER_ERROR","fetchGoods","getState","FETCH_GOODS","state","filters","min","max","shops","filter","shop","allowed","humanName","sortDirection","navigation","currentTab","UPDATE_GOODS","UPDATE_IS_GOODS_ERROR","StatiscticsActions","updateFiltersVisibility","UPDATE_FILTERS_VISIBILITY","updateMinPrice","newMin","UPDATE_MIN_PRICE","updateMaxPrice","newMax","UPDATE_MAX_PRICE","invertSortDirection","INVERT_SORT_DIRECTION","updateListOfShops","UPDATE_LIST_OF_SHOPS","updateChartData","UPDATE_CHART_DATA","showErrorChartData","SHOW_ERROR_CHART_DATA","fetchChartData","FETCH_CHART_DATA","actionCreators","navigationActionCreators","goodsActionCreators","filtersActionCreators","statisticsActionCreators","useActions","bindActionCreators","useDispatch","useTypedSelector","useSelector","NumberInput","onChange","value","customClassNames","name","className","Switch","direction","labelWhenDown","labelWhenUp","onClick","Toggler","checked","leftLable","rightLable","inputId","useMemo","random","classNames","htmlFor","Filters","priceLimitations","useState","priceTimeout","setPriceTimeout","changePriceHandler","event","clearTimeout","newValue","target","window","setTimeout","Good","rel","src","alt","width","height","length","Goods","goods","goodsList","useEffect","good","AnotherOffers","isFiltersVisible","isVisible","CASUS_NOMINATIVUS","corn","buckwheat","rice","barley","wheat","CHEAPER_CASUS_GENETIVUS","MONTHS_NAMES","casusNominativus","casusGenetivus","Link","itsCategory","activeCategory","Navigation","RadarPreloader","side","color","xmlns","version","viewBox","x","y","fill","d","offset","stopColor","fillOpacity","attributeName","from","to","dur","repeatCount","cx","cy","r","begin","keyTimes","values","Central","cheaper","MainScreen","calcWidth","viewport","document","body","offsetWidth","Chart","statistics","rawData","getDate","getMonth","LineChart","XAxis","dataKey","YAxis","Tooltip","Line","stroke","activeDot","Statistics","Footer","Number","process","getFullYear","App","initialState","SAVING_MOMENT_NAME","FILTERS","saveState","localStorage","setItem","JSON","stringify","now","savedState","pastSavingMoment","releaseMoment","getItem","checkIsDataActual","string","parse","getFiltersState","initailState","filtersReducer","action","newShops","rootReducer","combineReducers","newState","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c99188dc.chunk.js","sourcesContent":["import { CategoryType } from \"./CategoryType\";\n\n\nexport interface NavigationState {\n\tcurrentTab: CategoryType,\n}\n\nexport enum NavigationActionsTypes {\n\tUPDATE_CATEGORY = 'UPDATE_CATEGORY',\n}\n\ninterface UpdateCategory {\n\ttype: NavigationActionsTypes.UPDATE_CATEGORY;\n\tpayload: CategoryType;\n}\n\nexport type NavigationAction = UpdateCategory | UpdateCategory;\n","import { CategoryType } from \"../types/CategoryType\";\n\nexport const POSSIBLE_CATEGORIES: CategoryType[] = [\n\t\"corn\",\n\t\"buckwheat\",\n\t\"rice\",\n\t\"barley\",\n\t\"wheat\"\n];\n","import { POSSIBLE_CATEGORIES } from '../../constants/POSSIBLE_CATEGORIES';\nimport { CategoryType } from '../../types/CategoryType';\nimport { NavigationAction, NavigationActionsTypes } from '../../types/navigation';\n\nexport const updateCategory = (\n\tnewCategory: CategoryType = POSSIBLE_CATEGORIES[0]\n): NavigationAction => ({\n\ttype: NavigationActionsTypes.UPDATE_CATEGORY,\n\tpayload: newCategory,\n})\n","export interface CheaperType {\n\tisLoading: boolean,\n\tisError: boolean,\n\tprice: number | null,\n\thref: string,\n}\n\nexport interface GoodType {\n\tid: number | string,\n\ttitle: string,\n\tlink: string,\n\tpictureLink: string,\n\tshopName: string,\n\tweight: number,\n\tpricePerKg: number,\n}\n\n\nexport interface GoodsState {\n\tcheaper: CheaperType,\n\tgoods: {\n\t\tisLoading: boolean,\n\t\tisError: boolean,\n\t\tgoodsList: GoodType[]\n\t}\n}\n\nexport enum GoodsActionsTypes {\n\tFETCH_CHEAPER = 'goods/FETCH_CHEAPER',\n\tUPDATE_CHEAPER = 'goods/UPDATE_CHEAPER',\n\tUPDATE_IS_CHEAPER_ERROR = 'goods/UPDATE_IS_ERROR',\n\tFETCH_GOODS = 'goods/FETCH_GOODS',\n\tUPDATE_GOODS = 'goods/UPDATE_GOODS',\n\tUPDATE_IS_GOODS_ERROR = 'goods/UPDATE_IS_GOODS_ERROR',\n}\n\ninterface FetchCheaper {\n\ttype: GoodsActionsTypes.FETCH_CHEAPER\n}\n\ninterface UpdateCheaper {\n\ttype: GoodsActionsTypes.UPDATE_CHEAPER,\n\tpayload: CheaperType,\n}\n\ninterface UpdateIsCheaperError {\n\ttype: GoodsActionsTypes.UPDATE_IS_CHEAPER_ERROR,\n}\n\ninterface FetchGoods {\n\ttype: GoodsActionsTypes.FETCH_GOODS;\n}\n\ninterface UpdateGoods {\n\ttype: GoodsActionsTypes.UPDATE_GOODS,\n\tpayload: GoodType[]\n}\n\ninterface UpdateIsGoodsError {\n\ttype: GoodsActionsTypes.UPDATE_IS_GOODS_ERROR,\n}\n\nexport type GoodsActionType =\n\tFetchCheaper\n\t| UpdateCheaper\n\t| UpdateIsCheaperError\n\t| FetchGoods\n\t| UpdateGoods\n\t| UpdateIsGoodsError;\n","import { CategoryType } from \"../../types/CategoryType\";\nimport { goodsFetch } from \"./simulators/goodsFetch\";\nimport { chartFetch } from \"./simulators/chartFetch\";\nimport { CheaperType, GoodType } from \"../../types/goods\";\nimport { StatisticsItem } from \"../../types/statistics\";\n\nconst BASE_URL = \"https://grocceries.herokuapp.com/api/groceries/v3.0\";\n\nexport const getCheaper = async (category: CategoryType) => {\n  const response = await fetch(\n    `${BASE_URL}/${category}/?filter=cheaper&limit=1`\n  );\n\n  const raw = (await response.json())[0];\n\n  const data: CheaperType = {\n    isLoading: false,\n    isError: false,\n    href: raw.link,\n    price: Math.round((raw.pricePerKg && raw.pricePerKg) || NaN),\n  };\n\n  return data;\n};\n\nexport const getGoods = async (\n  minPrice: number,\n  maxPrice: number,\n  restrictedShops: Array<string | number>, // array of id\n  sortOrder: \"up\" | \"down\",\n  category: CategoryType\n) => {\n  const params = new URLSearchParams();\n\n  params.append(\"price\", minPrice + \"-\" + maxPrice);\n  params.append(\"shops\", restrictedShops.join(\",\"));\n  params.append(\"limit\", \"150\");\n  params.append(\n    \"filter\",\n    `${\n      (sortOrder === \"up\" && \"cheaper\") || (sortOrder === \"down\" && \"expensive\")\n    }`\n  );\n\n  const url = BASE_URL + \"/\" + category + \"/?\" + params.toString();\n\n  const response = await fetch(url);\n  const raw: Array<{\n    _id: number | string;\n    title: string;\n    link: string;\n    pictureLink: string;\n    shopName: string;\n    weight: number;\n    pricePerKg: number;\n  }> = await response.json();\n\n  const data: GoodType[] = raw.map((rawGood) => ({\n    id: rawGood._id,\n    title: rawGood.title,\n    link: rawGood.link,\n    pictureLink: rawGood.pictureLink,\n    pricePerKg: Math.round(rawGood.pricePerKg),\n    shopName: rawGood.shopName,\n    weight: rawGood.weight,\n  }));\n\n  return data;\n};\n\nexport const getChartData = async (category: CategoryType) => {\n  const response = await fetch(`${BASE_URL}/history/${category}`);\n\n  const raw: Array<{ date: string; price: number }> = await response.json();\n\n  const data: StatisticsItem[] = raw\n    .map((item) => ({\n      date: new Date(item.date),\n      price: item.price,\n    }))\n    .slice(0, 31)\n    .reverse();\n\n  console.log(raw);\n\n  return data;\n};\n","import { ShopExtended } from './ShopType';\n\nexport interface FiltersState {\n\tisVisible: boolean,\n\tprice: {\n\t\tmin: number,\n\t\tmax: number,\n\t},\n\tsortDirection: 'up' | 'down',\n\tshops: ShopExtended[],\n}\n\nexport enum FiltersActionsTypes {\n\tUPDATE_FILTERS_VISIBILITY = 'filters/UPDATE_FILTERS_VISIBILITY',\n\tUPDATE_MIN_PRICE = 'filters/UPDATE_MIN_PRICE',\n\tUPDATE_MAX_PRICE = 'filters/UPDATE_MAX_PRICE',\n\tINVERT_SORT_DIRECTION = 'filters/INVERT_SORT_DIRECTION',\n\tUPDATE_LIST_OF_SHOPS = 'filters/UPDATE_LIST_OF_SHOPS',\n}\n\ninterface UpdateFiltersVisibility {\n\ttype: FiltersActionsTypes.UPDATE_FILTERS_VISIBILITY;\n\tpayload: 'hide' | 'show';\n}\n\ninterface UpdateMinMaxPrice {\n\ttype: FiltersActionsTypes.UPDATE_MAX_PRICE | FiltersActionsTypes.UPDATE_MIN_PRICE,\n\tpayload: number,\n}\n\ninterface InvertSortDirection {\n\ttype: FiltersActionsTypes.INVERT_SORT_DIRECTION\n}\n\ninterface UpdateListOfShops {\n\ttype: FiltersActionsTypes.UPDATE_LIST_OF_SHOPS,\n\tpayload: {\n\t\tid: string,\n\t}\n}\n\nexport type FiltersAction =\n\tUpdateFiltersVisibility\n\t| UpdateMinMaxPrice\n\t| InvertSortDirection\n\t| UpdateListOfShops;\n","import { Dispatch } from 'react';\nimport { CategoryType } from '../../types/CategoryType';\nimport { GoodsActionType, GoodsActionsTypes } from '../../types/goods';\nimport { getCheaper, getGoods } from '../API';\nimport { RootState } from '../reducers';\n\nexport const fetchCheaper = (category: CategoryType) => {\n\tconst thunk = async (dispatch: Dispatch<GoodsActionType>) => {\n\t\ttry {\n\t\t\tdispatch({\n\t\t\t\ttype: GoodsActionsTypes.FETCH_CHEAPER\n\t\t\t});\n\n\t\t\tconst dataFromServer = await getCheaper(category);\n\n\t\t\tdispatch({\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_CHEAPER,\n\t\t\t\tpayload: {\n\t\t\t\t\thref: dataFromServer.href,\n\t\t\t\t\tprice: dataFromServer.price,\n\t\t\t\t\tisError: false,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tconsole.error(`Can't proceed 'fetchCheaper'. ErrorCode: ${error}`);\n\n\t\t\tdispatch({\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_IS_CHEAPER_ERROR,\n\t\t\t});\n\t\t}\n\t}\n\n\treturn thunk;\n}\n\nexport const fetchGoods = () => {\n\tconst thunk = async (dispatch: Dispatch<GoodsActionType>, getState: () => RootState) => {\n\t\tdispatch({\n\t\t\ttype: GoodsActionsTypes.FETCH_GOODS,\n\t\t})\n\n\t\ttry {\n\t\t\tconst state = getState();\n\t\t\tconst minPrice = state.filters.price.min;\n\t\t\tconst maxPrice = state.filters.price.max;\t\t\t\n\t\t\tconst shops = state.filters.shops.filter(shop => !shop.allowed).map(shop => shop.humanName);\n\t\t\tconst sortDirection = state.filters.sortDirection;\n\t\t\tconst category = state.navigation.currentTab;\n\n\t\t\tconst dataFromServer = await getGoods(\n\t\t\t\tminPrice, maxPrice, shops, sortDirection, category,\n\t\t\t);\n\n\t\t\tdispatch({\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_GOODS,\n\t\t\t\tpayload: dataFromServer,\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tconsole.error(`Can't proceed fetchGoods, ${error}`)\n\n\t\t\tdispatch({\n\t\t\t\ttype: GoodsActionsTypes.UPDATE_IS_GOODS_ERROR,\n\t\t\t})\n\t\t}\n\t}\n\n\treturn thunk;\n}","import { FiltersAction, FiltersActionsTypes } from \"../../types/filters\"\n\nexport const updateFiltersVisibility = (payload: 'hide' | 'show'): FiltersAction => {\n\treturn {\n\t\ttype: FiltersActionsTypes.UPDATE_FILTERS_VISIBILITY,\n\t\tpayload: payload,\n\t}\n}\n\nexport const updateMinPrice = (newMin: number): FiltersAction => {\n\treturn {\n\t\ttype: FiltersActionsTypes.UPDATE_MIN_PRICE,\n\t\tpayload: newMin,\n\t}\n}\nexport const updateMaxPrice = (newMax: number): FiltersAction => {\n\treturn {\n\t\ttype: FiltersActionsTypes.UPDATE_MAX_PRICE,\n\t\tpayload: newMax,\n\t}\n}\nexport const invertSortDirection = (): FiltersAction => {\n\treturn {\n\t\ttype: FiltersActionsTypes.INVERT_SORT_DIRECTION\n\t}\n}\nexport const updateListOfShops = (id: string): FiltersAction => ({\n\ttype: FiltersActionsTypes.UPDATE_LIST_OF_SHOPS,\n\tpayload: {\n\t\tid: id,\n\t}\n})","export interface StatisticsItem {\n\tprice: number,\n\tdate: Date,\n}\n\nexport interface StatisticsState {\n\tisError: boolean,\n\tisLoading: boolean,\n\tdata: StatisticsItem[],\n}\n\nexport enum StatiscticsActions {\n\tFETCH_CHART_DATA = 'statistics/FETCH_CHART_DATA',\n\tUPDATE_CHART_DATA = 'statistics/UPDATE_CHART_DATA',\n\tSHOW_ERROR_CHART_DATA = 'statistics/SHOW_ERROR_CHART_DATA',\n}\n\ninterface FetchChartData {\n\ttype: StatiscticsActions.FETCH_CHART_DATA,\n}\n\ninterface UpdateChartData {\n\ttype: StatiscticsActions.UPDATE_CHART_DATA,\n\tpayload: StatisticsItem[],\n}\n\ninterface ShowErrorChartData {\n\ttype: StatiscticsActions.SHOW_ERROR_CHART_DATA,\n}\n\nexport type StatisticsAction = FetchChartData | UpdateChartData | ShowErrorChartData;\n","import { Dispatch } from \"react\";\nimport { StatiscticsActions, StatisticsAction, StatisticsItem } from \"../../types/statistics\";\nimport { getChartData } from \"../API\";\nimport { RootState } from \"../reducers\";\n\nexport const updateChartData = (data: StatisticsItem[]): StatisticsAction => ({\n\ttype: StatiscticsActions.UPDATE_CHART_DATA,\n\tpayload: data,\n});\n\nexport const showErrorChartData = (): StatisticsAction => ({\n\ttype: StatiscticsActions.SHOW_ERROR_CHART_DATA,\n})\n\nexport const fetchChartData = () => {\n\tconst thunk = async (dispatch: Dispatch<StatisticsAction>, getState: () => RootState) => {\n\t\tdispatch({\n\t\t\ttype: StatiscticsActions.FETCH_CHART_DATA,\n\t\t});\n\n\t\ttry {\n\t\t\tconst { currentTab } = getState().navigation;\n\n\t\t\tconst data = await getChartData(currentTab);\n\n\t\t\tdispatch({\n\t\t\t\ttype: StatiscticsActions.UPDATE_CHART_DATA,\n\t\t\t\tpayload: data,\n\t\t\t})\n\t\t} catch (error) {\n\t\t\tconsole.error('Cant process fetchChartData,', error)\n\t\t\tdispatch({\n\t\t\t\ttype: StatiscticsActions.SHOW_ERROR_CHART_DATA\n\t\t\t})\n\t\t}\n\t}\n\n\treturn thunk;\n}\n\n","import * as navigationActionCreators from './navigation';\nimport * as goodsActionCreators from './goods';\nimport * as filtersActionCreators from './filters';\nimport * as statisticsActionCreators from './statistics';\n\nexport const actionCreators = {\n\t...navigationActionCreators,\n\t...goodsActionCreators,\n\t...filtersActionCreators,\n\t...statisticsActionCreators,\n}\n","import { useDispatch } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actionCreators } from '../store/action-creators';\n\nexport const useActions = () => bindActionCreators(\n\tactionCreators, useDispatch()\n)\n","import { TypedUseSelectorHook, useSelector } from 'react-redux';\nimport { RootState } from '../store/reducers';\n\nexport const useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React, { ChangeEventHandler, FormEventHandler } from 'react';\n\nimport './NumberInput.scss';\n\ntype NumberInputProps = {\n\tonChange: FormEventHandler,\n\tvalue: number,\n\tcustomClassNames?: string,\n\tmin: number,\n\tmax: number,\n\tname?: string,\n}\n\nexport const NumberInput: React.FunctionComponent<NumberInputProps> = ({\n\tonChange,\n\tvalue,\n\tcustomClassNames,\n\tname\n}) => (\n\t<input\n\t\ttype=\"number\"\n\t\tonChange={onChange}\n\t\tvalue={value}\n\t\tmin={0}\n\t\tmax={1000}\n\t\tname={name}\n\t\tclassName={`NumberInput ${customClassNames}`}\n\t/>\n)\n","import React, { MouseEventHandler } from 'react';\n\nimport './Switch.scss';\n\ninterface SwitchProps {\n\tdirection: 'up' | 'down',\n\tlabelWhenUp: string,\n\tlabelWhenDown: string,\n\tcustomClassNames?: string,\n\tonClick: MouseEventHandler,\n}\n\nexport const Switch: React.FunctionComponent<SwitchProps> = ({\n\tdirection,\n\tlabelWhenDown,\n\tlabelWhenUp,\n\tcustomClassNames,\n\tonClick\n}) => {\n\treturn (\n\t\t<button\n\t\t\tclassName={`Switch Switch--${direction} ${customClassNames}`}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{direction === 'up' ? labelWhenUp : labelWhenDown}\n\t\t</button>\n\t)\n}","import classNames from 'classnames';\nimport React, { ChangeEventHandler, useMemo } from 'react';\n\nimport './Toggler.scss';\n\ninterface TogglerProps {\n\tchecked: boolean,\n\tonChange: ChangeEventHandler,\n\tleftLable?: string,\n\trightLable?: string,\n\tkey?: any,\n}\n\nexport const Toggler: React.FunctionComponent<TogglerProps> = ({\n\tchecked,\n\tonChange,\n\tleftLable,\n\trightLable\n}) => {\n\tconst inputId = useMemo(() => `${Math.random()}`, [])\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"Toggler\"\n\t\t>\n\t\t\t{leftLable && (\n\t\t\t\t<label\n\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t'Toggler__label': true,\n\t\t\t\t\t\t'Toggler__label--left': true,\n\t\t\t\t\t\t'Toggler__label--active': !checked,\n\t\t\t\t\t})}\n\t\t\t\t\thtmlFor={inputId}\n\t\t\t\t>\n\t\t\t\t\t{leftLable}\n\t\t\t\t</label>\n\t\t\t)}\n\n\t\t\t<input\n\t\t\t\tid={inputId}\n\t\t\t\tchecked={checked}\n\t\t\t\tonChange={onChange}\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tclassName=\"Toggler__input-checkbox\"\n\t\t\t/>\n\n\t\t\t{rightLable && (\n\t\t\t\t<label\n\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t'Toggler__label': true,\n\t\t\t\t\t\t'Toggler__label--right': true,\n\t\t\t\t\t\t'Toggler__label--active': checked,\n\t\t\t\t\t})}\n\t\t\t\t\thtmlFor={inputId}\n\t\t\t\t>\n\t\t\t\t\t{rightLable}\n\t\t\t\t</label>\n\t\t\t)}\n\t\t</div>\n\t)\n}","import React, { ChangeEvent, useState } from 'react';\nimport { useActions } from '../../hooks/useActions';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { NumberInput } from '../NumberInput';\nimport { Switch } from '../Switch';\nimport { Toggler } from '../Toggler/Toggler';\n\nimport './Filters.scss';\n\nexport const Filters: React.FunctionComponent = () => {\n\tconst { updateMinPrice, updateMaxPrice, invertSortDirection, updateListOfShops, fetchGoods } = useActions();\n\tconst { price, sortDirection, shops } = useTypedSelector(state => state.filters);\n\tconst { currentTab } = useTypedSelector(state => state.navigation)\n\n\tconst priceLimitations = {\n\t\tmin: 0,\n\t\tmax: 1000,\n\t}\n\n\tconst [priceTimeout, setPriceTimeout] = useState(0);\n\n\tconst changePriceHandler = (event: ChangeEvent<HTMLInputElement>, type: 'min' | 'max') => {\n\t\tclearTimeout(priceTimeout);\n\t\tconst newValue = +event.target.value;\n\t\tconst DELAY = 1000;\n\n\t\tif (type === 'min') {\n\t\t\tupdateMinPrice(newValue);\n\t\t\tsetPriceTimeout(window.setTimeout(() => {\n\t\t\t\tif (newValue > price.max) {\n\t\t\t\t\tupdateMaxPrice(newValue);\n\t\t\t\t}\n\t\t\t\tfetchGoods();\n\t\t\t}, DELAY))\n\t\t} else if (type === 'max') {\n\t\t\tupdateMaxPrice(newValue);\n\t\t\tsetPriceTimeout(window.setTimeout(() => {\n\t\t\t\tif (newValue < price.min) {\n\t\t\t\t\tupdateMinPrice(newValue)\n\t\t\t\t}\n\t\t\t\tfetchGoods();\n\t\t\t}, DELAY))\n\t\t}\n\t}\n\n\treturn (\n\t\t<section className={`Filters Filters--${currentTab}`}>\n\t\t\t<div className=\"Filters__container Filters__row\">\n\t\t\t\t<h3 className=\"Filters__title\">Ціна</h3>\n\t\t\t\t&nbsp;від&nbsp;\n\t\t\t\t<NumberInput\n\t\t\t\t\tcustomClassNames=\"Filters__price-input\"\n\t\t\t\t\tvalue={price.min}\n\t\t\t\t\tonChange={(event: ChangeEvent<HTMLInputElement>) => { changePriceHandler(event, 'min') }}\n\t\t\t\t\tmin={priceLimitations.min}\n\t\t\t\t\tmax={priceLimitations.max}\n\t\t\t\t/>\n\t\t\t\t&nbsp;до&nbsp;\n\t\t\t\t<NumberInput\n\t\t\t\t\tcustomClassNames=\"Filters__price-input\"\n\t\t\t\t\tvalue={price.max}\n\t\t\t\t\tonChange={(event: ChangeEvent<HTMLInputElement>) => { changePriceHandler(event, 'max') }}\n\t\t\t\t\tmin={priceLimitations.min}\n\t\t\t\t\tmax={priceLimitations.max}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"Filters__container Filters__row\">\n\t\t\t\t<h3 className=\"Filters__title\">Сортувати</h3>\n\t\t\t\t&nbsp;&nbsp;\n\t\t\t\t<Switch\n\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\tlabelWhenUp=\"спершу Дешевші\"\n\t\t\t\t\tlabelWhenDown=\"спершу Дорожі\"\n\t\t\t\t\tonClick={() => { invertSortDirection(); fetchGoods(); }}\n\t\t\t\t\tcustomClassNames=\"Filters__switch\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"Filters__container\">\n\t\t\t\t<h3 className=\"Filters__title\">Доступні магазини:</h3>\n\t\t\t\t<ul className=\"Filters__shops-box\">\n\t\t\t\t\t{shops.map(shop => (\n\t\t\t\t\t\t<Toggler\n\t\t\t\t\t\t\tkey={shop.id}\n\t\t\t\t\t\t\tchecked={shop.allowed}\n\t\t\t\t\t\t\tonChange={() => { updateListOfShops(shop.id); fetchGoods(); }}\n\t\t\t\t\t\t\trightLable={shop.humanName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</section>\n\t);\n}","import React, { useEffect } from 'react';\nimport { useActions } from '../../hooks/useActions';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\n\nimport './Goods.scss';\nimport './Good.scss';\nimport { GoodType } from '../../types/goods';\nimport classNames from 'classnames';\n\ntype GoodProps = GoodType & {\n\tisLoading: boolean;\n}\n\nconst Good: React.FunctionComponent<GoodProps> = ({ isLoading, link, pictureLink, pricePerKg, weight, shopName, title }) => {\n\treturn (\n\t\t<li className={classNames({\n\t\t\t'Good': true,\n\t\t\t'Good--is-loading': isLoading,\n\t\t})}>\n\t\t\t<a href={link} className=\"Good__link\" target=\"_blank\" rel=\"noreferer noopener\">\n\t\t\t\t<div className=\"Good__illustration-wrapper\">\n\t\t\t\t\t<img src={pictureLink} alt={`ілюстрація до товару з назвою ${title}`} className=\"Good__image\" width=\"100%\" height=\"170px\" />\n\t\t\t\t</div>\n\t\t\t\t<h3 className=\"Good__title\" title={title}>\n\t\t\t\t\t{title.length < 38 ? title : (title.slice(0, 35) + '...')}\n\t\t\t\t</h3>\n\t\t\t\t<p className=\"Good__info-row\">\n\t\t\t\t\t<span className=\"Good__producer\">{shopName}</span>\n\t\t\t\t\t<span className=\"Good__portion\">${weight} г / упакова</span>\n\t\t\t\t</p>\n\t\t\t\t<p className=\"Good__price\">\n\t\t\t\t\t<span className=\"Good__price-big\">{pricePerKg}</span>\n\t\t\t\t\t&nbsp;\n\t\t\t\t\t<span className=\"Good__price-small\">грн / кг</span>\n\t\t\t\t</p>\n\t\t\t</a>\n\t\t</li>\n\t)\n}\n\nexport const Goods: React.FunctionComponent = () => {\n\tconst { goods, goods: { goodsList } } = useTypedSelector(state => state.goods);\n\tconst { currentTab } = useTypedSelector(state => state.navigation)\n\n\tconst { fetchGoods } = useActions();\n\n\tuseEffect(() => {\n\t\tfetchGoods();\n\t}, [])\n\n\tuseEffect(() => {\n\t\tfetchGoods();\n\t},\n\t\t[currentTab])\n\n\treturn (\n\t\t<ul className={classNames({\n\t\t\t'Goods': true,\n\t\t\t'Goods--error': goods.isError || !goodsList.length,\n\t\t})}>\n\t\t\t{!goods.isError && (\n\t\t\t\tgoodsList.length ? (\n\t\t\t\t\tgoodsList.map(good => (\n\t\t\t\t\t\t<Good\n\t\t\t\t\t\t\tkey={good.id}\n\t\t\t\t\t\t\tisLoading={goods.isLoading}\n\t\t\t\t\t\t\tid={good.id}\n\t\t\t\t\t\t\tlink={good.link}\n\t\t\t\t\t\t\ttitle={good.title}\n\t\t\t\t\t\t\tpictureLink={good.pictureLink}\n\t\t\t\t\t\t\tpricePerKg={good.pricePerKg}\n\t\t\t\t\t\t\tshopName={good.shopName}\n\t\t\t\t\t\t\tweight={good.weight}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"Goods__error-message\">\n\t\t\t\t\t\tМи не змогли знайти для вас товари.\n\t\t\t\t\t\t<br />Змініть будь ласка фільтри⚙\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t)}\n\t\t\t{goods.isError && (\n\t\t\t\t<div className=\"Goods__error-message\">\n\t\t\t\t\tУпс, щось пішло не туди😢\n\t\t\t\t\t<br />\n\t\t\t\t\tПерезавантаж сторінку або спробуй пізніше\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</ul>\n\t)\n}","import React, { useEffect } from 'react';\nimport { useActions } from '../../hooks/useActions';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { Filters } from '../Filters';\nimport { Goods } from '../Goods';\n\nimport './AnotherOffers.scss';\n\nexport const AnotherOffers: React.FunctionComponent = () => {\n\tconst { currentTab } = useTypedSelector(state => state.navigation);\n\tconst { isVisible: isFiltersVisible } = useTypedSelector(state => state.filters);\n\tconst { updateFiltersVisibility } = useActions();\n\n\treturn (\n\t\t<article className={`restrictor1200 AnotherOffers AnotherOffers--${currentTab}`}>\n\t\t\t<div className=\"AnotherOffers__top-row\">\n\t\t\t\t<h2 className=\"AnotherOffers__title textChapterTitle\">\n\t\t\t\t\tІнші ціни\n\t\t\t\t</h2>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"AnotherOffers__filters-toggler\"\n\t\t\t\t\tonClick={() => { updateFiltersVisibility(isFiltersVisible ? 'hide' : 'show') }}\n\t\t\t\t>\n\t\t\t\t\t{isFiltersVisible ? 'Сховати' : 'Показати'} фільтри\n\t\t\t\t</button>\n\t\t\t\t<br></br>\n\t\t\t</div>\n\t\t\t{isFiltersVisible && <Filters />}\n\t\t\t<div className=\"AnotherOffers__bottom-row\">\n\t\t\t\t<Goods />\n\t\t\t</div>\n\t\t</article>\n\t);\n}","import { CategoryType } from '../types/CategoryType';\n\ntype LinguisticType = {\n\t[key in CategoryType]: string;\n}\n\nexport const CASUS_NOMINATIVUS: LinguisticType = { // this is Називний Відмінок in Ukrainian language\n\tcorn: 'Кукурузка',\n\tbuckwheat: 'Гречка',\n\trice: 'Рис',\n\tbarley: 'Ячмінь',\n\twheat: 'Пшениця',\n}\n\nexport const CHEAPER_CASUS_GENETIVUS: LinguisticType = { // this is найдешевш.. Родовий відмінок in Ukrainian language\n\tcorn: 'найдешевшої кукурузки',\n\tbuckwheat: 'найдешевшої гречки',\n\trice: 'найдешевшого рису',\n\tbarley: 'найдешевшого ячменю',\n\twheat: 'найдешевшої пшениці',\n}\n\nexport const MONTHS_NAMES = {\n\tcasusNominativus: [\n\t\t'Січень',\n\t\t'Лютий',\n\t\t'Березень',\n\t\t'Квітень',\n\t\t'Травень',\n\t\t'Червень',\n\t\t'Липень',\n\t\t'Серпень',\n\t\t'Вересень',\n\t\t'Жовтень',\n\t\t'Листопад',\n\t\t'Грудень',\n\t],\n\tcasusGenetivus: [\n\t\t'Січня',\n\t\t'Лютого',\n\t\t'Березня',\n\t\t'Квітня',\n\t\t'Травня',\n\t\t'Червня',\n\t\t'Липня',\n\t\t'Серпня',\n\t\t'Вересня',\n\t\t'Жовтня',\n\t\t'Листопада',\n\t\t'Грудня',\n\t]\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { CategoryType } from '../../types/CategoryType';\nimport { CASUS_NOMINATIVUS } from '../../constants/linguistics';\nimport { POSSIBLE_CATEGORIES } from '../../constants/POSSIBLE_CATEGORIES';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { useActions } from '../../hooks/useActions';\n\nimport './Navigation.scss';\n\ninterface LinkPropsType {\n\titsCategory: CategoryType,\n\tactiveCategory: CategoryType,\n}\n\nconst Link: React.FunctionComponent<LinkPropsType> = ({ itsCategory, activeCategory }) => {\n\tconst { updateCategory } = useActions();\n\n\treturn (\n\t\t<li className={classNames({\n\t\t\t\"Navigation__wrapper\": true,\n\t\t\t'Navigation__wrapper--active': activeCategory === itsCategory,\n\t\t})}>\n\t\t\t<button\n\t\t\t\tclassName={`Navigation__button Navigation__button--${activeCategory}-mode`}\n\t\t\t\tonClick={() => updateCategory(itsCategory)}\n\t\t\t>\n\t\t\t\t{CASUS_NOMINATIVUS[itsCategory]}\n\t\t\t</button>\n\t\t</li>\n\t)\n}\n\nexport const Navigation: React.FunctionComponent = () => {\n\tconst { currentTab: activeCategory } = useTypedSelector(state => state.navigation);\n\n\treturn (\n\t\t<nav className=\"Navigation\">\n\t\t\t<h2 className=\"textChapterTitle Navigation__title\">\n\t\t\t\tІнші категорії\n\t\t\t</h2>\n\t\t\t<ul className=\"Navigation__ul\">\n\t\t\t\t{POSSIBLE_CATEGORIES.map(category => (\n\t\t\t\t\t<Link\n\t\t\t\t\t\titsCategory={category}\n\t\t\t\t\t\tactiveCategory={activeCategory}\n\t\t\t\t\t\tkey={category}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</nav>\n\t)\n}\n","import React from 'react';\n\ninterface RadarPreloaderPropsType {\n\tside: number;\n\tcolor?: string;\n}\n\nexport const RadarPreloader: React.FunctionComponent<RadarPreloaderPropsType> = ({ side = 25, color = \"#000\" }) => {\n\treturn (\n\t\t<svg width={`${side}px`} height={`${side}px`} xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" viewBox=\"0 0 128 128\">\n\t\t\t<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"transparent\" />\n\t\t\t<path fill={color} className=\"cls-1\" d=\"M64 127.75a64 64 0 1 1 64-64 64 64 0 0 1-64 64zM125.72 65h-13.75A47.86 47.86 0 0 1 65 111.73v13.74A61.73 61.73 0 0 0 125.72 65zM65 65v21.95A23.2 23.2 0 0 0 87.2 65H65zm22.2-2A23.22 23.22 0 0 0 65 40.55V63h22.23zm-46.37 2A23.2 23.2 0 0 0 63 86.95V65H40.8zM63 63V40.55A23.22 23.22 0 0 0 40.78 63H63zm-24.2 2H18.3A45.85 45.85 0 0 0 63 109.72V88.95A25.2 25.2 0 0 1 38.8 65zm0-2A25.2 25.2 0 0 1 63 38.55V18.03A45.85 45.85 0 0 0 18.28 63h20.5zM65 38.55A25.2 25.2 0 0 1 89.2 63h20.77A45.85 45.85 0 0 0 65 18.03v20.52zM89.2 65A25.2 25.2 0 0 1 65 88.95v20.77A45.85 45.85 0 0 0 109.97 65H89.2zM63 125.47v-13.75A47.86 47.86 0 0 1 16.28 65h-14A61.73 61.73 0 0 0 63 125.47zM2.27 63h14A47.86 47.86 0 0 1 63 16.03v-14A61.73 61.73 0 0 0 2.27 63zM65 2.02v14A47.86 47.86 0 0 1 111.98 63h13.75A61.73 61.73 0 0 0 65 2.02z\" />\n\t\t\t<g>\n\t\t\t\t<linearGradient id=\"RadarPreloader_linear-gradient\">\n\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#000000\" />\n\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#ffffff\" />\n\t\t\t\t</linearGradient>\n\t\t\t\t<path fill=\"url(#RadarPreloader_linear-gradient)\" fillOpacity=\"0.5\" d=\"M65.128,64.894l0.025,60.968a61.781,61.781,0,0,1-32.011-8.315q-0.705-.406-1.4-0.83L62.531,63.4Z\" />\n\t\t\t\t<animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 64 64\" to=\"360 64 64\" dur=\"1710ms\" repeatCount=\"indefinite\"></animateTransform>\n\t\t\t\t<path fill=\"#000000\" d=\"M62.531,63.4l2.6,1.5L34.257,118.374l-2.6-1.5Z\" />\n\t\t\t</g>\n\t\t\t<circle fill=\"#000000\" cx=\"55.641\" cy=\"97.563\" r=\"6.047\">\n\t\t\t\t<animate attributeName=\"opacity\" dur=\"1710ms\" begin=\"0s\" repeatCount=\"indefinite\" keyTimes=\"0;1\" values=\"1;0\" />\n\t\t\t</circle>\n\t\t</svg>\n\t)\n};\n","import React, { useEffect } from 'react';\n\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\nimport { RadarPreloader } from '../RadarPreloader';\nimport { useActions } from '../../hooks/useActions'\nimport { CHEAPER_CASUS_GENETIVUS } from '../../constants/linguistics';\n\nimport './Central.scss';\n\nexport const Central: React.FunctionComponent = () => {\n\tconst { isError, isLoading, price, href } = useTypedSelector(state => state.goods.cheaper);\n\tconst { currentTab } = useTypedSelector(state => state.navigation);\n\tconst { fetchCheaper } = useActions();\n\n\t/* eslint-disable */\n\tuseEffect(() => {\n\t\tfetchCheaper(currentTab)\n\t}, [currentTab]);\n\t/* eslint-enable */\n\n\treturn (\n\t\t<section className=\"Central\">\n\t\t\t<h1 className=\"Central__title\">\n\t\t\t\tЦіна {CHEAPER_CASUS_GENETIVUS[currentTab]} в Україні\n\t\t\t</h1>\n\t\t\t<p className={`Central__price-wrapper Central__price-wrapper--${currentTab}`}>\n\t\t\t\t<span className=\"Central__digits\">\n\t\t\t\t\t{isLoading && <RadarPreloader side={100} color=\"#aaa\" />}\n\t\t\t\t\t{isError && 'Error'}\n\t\t\t\t\t{!isError && !isLoading && price}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"Central__measure-units\">грн / кг</span>\n\t\t\t</p>\n\t\t\t<a\n\t\t\t\thref={href}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\tclassName={`Central__link-to-seller Central__link-to-seller--${currentTab}`}\n\t\t\t>\n\t\t\t\tвідкрити сайт продавця\n\t\t\t</a>\n\t\t</section>\n\t)\n}\n","import React from 'react';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\n\nimport { CASUS_NOMINATIVUS } from '../../constants/linguistics';\nimport { Navigation } from '../Navigation';\n\nimport './MainScreen.scss';\nimport { Central } from '../Central';\n\nexport const MainScreen: React.FunctionComponent = () => {\n\tconst { currentTab: category } = useTypedSelector(state => state.navigation);\n\treturn (\n\t\t<article className={`MainScreen MainScreen--${category}`}>\n\t\t\t<p className=\"MainScreen__title\">\n\t\t\t\t{CASUS_NOMINATIVUS[category]}\n\t\t\t</p>\n\n\t\t\t<div className=\"MainScreen__second-row\">\n\t\t\t\t<Central />\n\t\t\t\t<Navigation />\n\t\t\t</div>\n\t\t</article>\n\t)\n}","import classNames from 'classnames';\nimport React, { useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { MONTHS_NAMES } from '../../constants/linguistics';\nimport { useActions } from '../../hooks/useActions';\nimport { useTypedSelector } from '../../hooks/useTypedSelector';\n\nimport './Chart.scss';\n\nconst calcWidth = (): number => {\n\tconst viewport = document.body.offsetWidth;\n\tlet maxWidth: number;\n\n\tif (viewport > 1260) {\n\t\tmaxWidth = 1200;\n\t} else {\n\t\tmaxWidth = viewport - 60;\n\t}\n\n\treturn maxWidth;\n}\n\nexport const Chart = () => {\n\tconst { data: rawData, isLoading, isError } = useTypedSelector(state => state.statistics);\n\tconst { currentTab } = useTypedSelector(state => state.navigation);\n\tconst { fetchChartData } = useActions();\n\n\tconst data = rawData\n\t\t.map(item => ({\n\t\t\t...item,\n\t\t\tdate: `${item.date.getDate()} ${MONTHS_NAMES.casusGenetivus[item.date.getMonth()]}`,\n\t\t}))\n\n\tuseEffect(() => {\n\t\tfetchChartData();\n\t}, [currentTab])\n\n\treturn (\n\t\t<div className=\"Chart\">\n\t\t\t<div className={classNames('Chart__wrapper', { 'Chart__wrapper--hidden': isLoading || isError })}>\n\t\t\t\t<LineChart\n\t\t\t\t\twidth={calcWidth()}\n\t\t\t\t\theight={300}\n\t\t\t\t\tdata={data}\n\t\t\t\t>\n\t\t\t\t\t<XAxis dataKey=\"date\" />\n\t\t\t\t\t<YAxis />\n\t\t\t\t\t<Tooltip />\n\t\t\t\t\t<Line type=\"basis\" dataKey=\"price\" name=\"ціна\" stroke=\"#542511\" activeDot={{ r: 8 }} />\n\t\t\t\t</LineChart>\n\t\t\t</div>\n\t\t\t{isLoading && (<div className=\"Chart__status-message Chart__status-message\">Loading...</div>)}\n\t\t\t{isError && (<div className=\"Chart__status-message Chart__status-message\">Ooops, error ocured</div>)}\n\t\t</div>\n\t)\n}\n","import React from 'react';\nimport { Chart } from '../Chart'\n\nimport './Statistics.scss';\n\nexport const Statistics: React.FunctionComponent = () => {\n\treturn (\n\t\t<article className=\"Statistics restrictor1200\">\n\t\t\t<h2 className=\"textChapterTitle Statistics__title\">\n\t\t\t\tСтатистика цін\n\t\t\t</h2>\n\t\t\t<div className=\"Statistics__chart-container\">\n\t\t\t\t<Chart />\n\t\t\t</div>\n\t\t</article>\n\t)\n}","import React from 'react';\n\nimport './Footer.scss';\n\nexport const Footer: React.FunctionComponent = () => (\n\t<footer className=\"Footer restrictor1200\">\n\t\t<div className=\"Footer__left\">\n\t\t\t<p className=\"Footer__source-code\">\n\t\t\t\tsource код\n\t\t\t\t&nbsp;\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/andrii256-denysVarenik/grocceries-front\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferer noopener\"\n\t\t\t\t\tclassName=\"Footer__source-code-link\">\n\t\t\t\t\tfrontend\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t\t<p className=\"Footer__source-code\">\n\t\t\t\tsource код\n\t\t\t\t&nbsp;\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/andrii256-denysVarenik/\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferer noopener\"\n\t\t\t\t\tclassName=\"Footer__source-code-link\">\n\t\t\t\t\tbackend\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</div>\n\n\t\t<div className=\"Footer__center\">\n\t\t\t<p className=\"Footer__main-text\">\n\t\t\t\tmade with ❤️ by\n\t\t\t</p>\n\t\t\t<p className=\"Footer__main-text\">\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/Andrii256\"\n\t\t\t\t\tclassName=\"Footer__author\"\n\t\t\t\t\ttitle=\"Андрій Грушецький (робив Frontend)\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferer noopener\"\n\t\t\t\t>\n\t\t\t\t\t@andrii256\n\t\t\t\t</a>\n\t\t\t\t&nbsp;\n\t\t\t\t&\n\t\t\t\t&nbsp;\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/Den-Varenik\"\n\t\t\t\t\tclassName=\"Footer__author\"\n\t\t\t\t\ttitle=\"Денис Вареник (робив Backend)\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noreferer noopener\"\n\t\t\t\t>\n\t\t\t\t\t@den-varenik\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t\t<p className=\"Footer__year-mark\">\n\t\t\t\t{new Date(Number(process.env.REACT_APP_REALEASE_MOMENT)).getFullYear()}\n\t\t\t</p>\n\t\t</div>\n\n\t\t<div className=\"Footer__right\">\n\t\t</div>\n\t</footer>\n)","import React from 'react';\nimport { AnotherOffers } from './components/AnotherOffers';\nimport { MainScreen } from './components/MainScreen';\nimport { Statistics } from './components/Statistics'\nimport { Footer } from './components/Footer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MainScreen />\n      <AnotherOffers />\n      <Statistics />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import { GoodsActionsTypes, GoodsActionType, GoodsState } from \"../../types/goods\";\n\nconst initialState: GoodsState = {\n\tcheaper: {\n\t\tisError: false,\n\t\tisLoading: true,\n\t\thref: '',\n\t\tprice: null,\n\t},\n\tgoods: {\n\t\tisError: false,\n\t\tisLoading: true,\n\t\tgoodsList: [\n\t\t\t{\n\t\t\t\tid: Math.random(),\n\t\t\t\tpictureLink: '#',\n\t\t\t\tpricePerKg: 0,\n\t\t\t\tshopName: 'Loading',\n\t\t\t\tweight: 0,\n\t\t\t\tlink: '#',\n\t\t\t\ttitle: 'Loading'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: Math.random(),\n\t\t\t\tpictureLink: '#',\n\t\t\t\tpricePerKg: 0,\n\t\t\t\tshopName: 'Loading',\n\t\t\t\tweight: 0,\n\t\t\t\tlink: '#',\n\t\t\t\ttitle: 'Loading'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: Math.random(),\n\t\t\t\tpictureLink: '#',\n\t\t\t\tpricePerKg: 0,\n\t\t\t\tshopName: 'Loading',\n\t\t\t\tweight: 0,\n\t\t\t\tlink: '#',\n\t\t\t\ttitle: 'Loading'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: Math.random(),\n\t\t\t\tpictureLink: '#',\n\t\t\t\tpricePerKg: 0,\n\t\t\t\tshopName: 'Loading',\n\t\t\t\tweight: 0,\n\t\t\t\tlink: '#',\n\t\t\t\ttitle: 'Loading'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: Math.random(),\n\t\t\t\tpictureLink: '#',\n\t\t\t\tpricePerKg: 0,\n\t\t\t\tshopName: 'Loading',\n\t\t\t\tweight: 0,\n\t\t\t\tlink: '#',\n\t\t\t\ttitle: 'Loading'\n\t\t\t},\n\t\t]\n\t}\n}\n\nexport const goodsReducer = (state: GoodsState = initialState, action: GoodsActionType): GoodsState => {\n\tswitch (action.type) {\n\t\tcase GoodsActionsTypes.FETCH_CHEAPER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcheaper: {\n\t\t\t\t\tisError: false,\n\t\t\t\t\tisLoading: true,\n\t\t\t\t\thref: '',\n\t\t\t\t\tprice: null,\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase GoodsActionsTypes.UPDATE_CHEAPER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcheaper: action.payload,\n\t\t\t}\n\n\t\tcase GoodsActionsTypes.UPDATE_IS_CHEAPER_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcheaper: {\n\t\t\t\t\tisError: true,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\thref: '',\n\t\t\t\t\tprice: null,\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase GoodsActionsTypes.FETCH_GOODS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgoods: {\n\t\t\t\t\t...state.goods,\n\t\t\t\t\tisError: false,\n\t\t\t\t\tisLoading: true,\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase GoodsActionsTypes.UPDATE_GOODS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgoods: {\n\t\t\t\t\t...state.goods,\n\t\t\t\t\tisError: false,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tgoodsList: action.payload,\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase GoodsActionsTypes.UPDATE_IS_GOODS_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgoods: {\n\t\t\t\t\t...state.goods,\n\t\t\t\t\tisError: true,\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tgoodsList: [],\n\t\t\t\t}\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { NavigationState, NavigationAction, NavigationActionsTypes } from '../../types/navigation';\n\nconst initialState: NavigationState = {\n\tcurrentTab: 'buckwheat',\n}\n\nexport const navigationReducer = (state: NavigationState = initialState, action: NavigationAction): NavigationState => {\n\tswitch (action.type) {\n\t\tcase NavigationActionsTypes.UPDATE_CATEGORY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentTab: action.payload\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","export const SAVING_MOMENT_NAME = 'savingMoment';\nexport const FILTERS = 'SAVED_STATE_filters';\n","import { FiltersState } from \"../../types/filters\";\nimport { SAVING_MOMENT_NAME, FILTERS } from '../../constants/localStorage';\n\nexport const saveState = (state: object, name: string) => {\n\tlocalStorage.setItem(name, JSON.stringify(state));\n\tlocalStorage.setItem(SAVING_MOMENT_NAME, `${Date.now()}`);\n}\n\nexport const checkIsDataActual = (name: string) => {\n\tlet pastSavingMoment: string | null | number;\n\n\tpastSavingMoment = localStorage.getItem(SAVING_MOMENT_NAME);\n\tpastSavingMoment = typeof pastSavingMoment === 'string' ? +pastSavingMoment : 0;\n\n\n\tlet releaseMoment: number | string | undefined = process.env.REACT_APP_REALEASE_MOMENT;\n\treleaseMoment = releaseMoment ? +releaseMoment : Date.now();\n\n\treturn pastSavingMoment > releaseMoment;\n}\n\nexport const getFiltersState = (): FiltersState | false => {\n\tif (!checkIsDataActual(FILTERS)) {\n\t\treturn false;\n\t}\n\n\tconst string = localStorage.getItem(FILTERS);\n\tif (!string) {\n\t\treturn false;\n\t}\n\n\ttry {\n\t\tconst state: FiltersState = JSON.parse(string);\n\n\t\treturn state;\n\t} catch {\n\t\treturn false;\n\t}\n}","import { FILTERS } from \"../../constants/localStorage\";\nimport { FiltersState, FiltersAction, FiltersActionsTypes } from \"../../types/filters\";\nimport { getFiltersState, saveState } from '../API/localStorage';\nimport { POSSIBLE_SHOPS } from '../../constants/POSSIBLE_SHOPS';\nimport { ShopExtended } from \"../../types/ShopType\";\n\nconst savedState = getFiltersState();\n\nconst shops: ShopExtended[] = POSSIBLE_SHOPS.map(shop => ({\n\t...shop,\n\tallowed: true,\n}))\n\nconst defaultState: FiltersState = {\n\tisVisible: true,\n\tprice: {\n\t\tmin: 0,\n\t\tmax: 1000,\n\t},\n\tsortDirection: 'down',\n\tshops: shops,\n}\n\nconst initailState: FiltersState = savedState || defaultState;\n\nexport const filtersReducer = (state: FiltersState = initailState, action: FiltersAction): FiltersState => {\n\tswitch (action.type) {\n\t\tcase FiltersActionsTypes.UPDATE_FILTERS_VISIBILITY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisVisible: action.payload === 'show' ? true : false\n\t\t\t};\n\n\t\tcase FiltersActionsTypes.UPDATE_MAX_PRICE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprice: {\n\t\t\t\t\t...state.price,\n\t\t\t\t\tmax: action.payload,\n\t\t\t\t}\n\t\t\t}\n\t\tcase FiltersActionsTypes.UPDATE_MIN_PRICE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprice: {\n\t\t\t\t\t...state.price,\n\t\t\t\t\tmin: action.payload,\n\t\t\t\t}\n\t\t\t}\n\n\t\tcase FiltersActionsTypes.INVERT_SORT_DIRECTION:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsortDirection: state.sortDirection === 'up' ? 'down' : 'up'\n\t\t\t}\n\n\t\tcase FiltersActionsTypes.UPDATE_LIST_OF_SHOPS:\n\t\t\tconst newShops: ShopExtended[] = state.shops.map(shop => ({\n\t\t\t\t...shop,\n\t\t\t\tallowed: shop.id === action.payload.id ? !shop.allowed : shop.allowed,\n\t\t\t}))\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tshops: newShops,\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const filtersReducerWrapper = (state: FiltersState = initailState, action: FiltersAction): FiltersState => {\n\tconst newState = filtersReducer(state, action);\n\n\tsaveState(newState, FILTERS);\n\n\treturn newState;\n}","import { Shop } from '../types/ShopType';\n\nexport const POSSIBLE_SHOPS: Shop[] = [\n\t{\n\t\tid: 'tavriav',\n\t\thumanName: 'Таврія В',\n\t},\n\t{\n\t\tid: 'auchan',\n\t\thumanName: 'Ашан',\n\t},\n\t{\n\t\tid: 'metro',\n\t\thumanName: 'Метро',\n\t},\n\t{\n\t\tid: 'fozzy',\n\t\thumanName: 'Fozzy',\n\t},\n]\n","import { StatiscticsActions, StatisticsAction, StatisticsState } from '../../types/statistics';\n\nconst initialState: StatisticsState = {\n\tisError: false,\n\tisLoading: false,\n\tdata: [],\n}\n\nexport const statisticsReducer = (\n\tstate: StatisticsState = initialState, action: StatisticsAction\n\t): StatisticsState => {\n\tswitch (action.type) {\n\n\t\tcase StatiscticsActions.FETCH_CHART_DATA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisError: false,\n\t\t\t\tisLoading: true,\n\t\t\t};\n\n\t\tcase StatiscticsActions.UPDATE_CHART_DATA:\n\t\t\treturn {\n\t\t\t\tisError: false,\n\t\t\t\tisLoading: false,\n\t\t\t\tdata: action.payload,\n\t\t\t}\n\n\t\tcase StatiscticsActions.SHOW_ERROR_CHART_DATA:\n\t\t\treturn {\n\t\t\t\tisError: true,\n\t\t\t\tisLoading: false,\n\t\t\t\tdata: [],\n\t\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import { combineReducers } from 'redux';\nimport { goodsReducer } from './goodsReducers';\nimport { navigationReducer } from './navigationReducer';\nimport { filtersReducerWrapper } from './filtersReducer';\nimport { statisticsReducer } from './statisticsReducer';\n\nexport const rootReducer = combineReducers({\n\tnavigation: navigationReducer,\n\tgoods: goodsReducer,\n\tfilters: filtersReducerWrapper,\n\tstatistics: statisticsReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { rootReducer } from './reducers';\n\nexport const store = createStore(\n\trootReducer,\n\tcomposeWithDevTools(\n\t\tapplyMiddleware(thunk)\n\t)\n)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport { store } from './store';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}